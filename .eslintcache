[{"H:\\hkzf-demo\\src\\index.js":"1","H:\\hkzf-demo\\src\\reportWebVitals.js":"2","H:\\hkzf-demo\\src\\App.js":"3","H:\\hkzf-demo\\src\\views\\Home\\index.jsx":"4","H:\\hkzf-demo\\src\\views\\Citylist\\index.jsx":"5","H:\\hkzf-demo\\src\\views\\Findhouse\\index.jsx":"6","H:\\hkzf-demo\\src\\views\\Main\\index.jsx":"7","H:\\hkzf-demo\\src\\views\\Mine\\index.jsx":"8","H:\\hkzf-demo\\src\\views\\News\\index.jsx":"9","H:\\hkzf-demo\\src\\utils\\api\\home.js":"10","H:\\hkzf-demo\\src\\utils\\request.js":"11","H:\\hkzf-demo\\src\\utils\\imgUrl.js":"12","H:\\hkzf-demo\\src\\views\\Main\\util.js":"13","H:\\hkzf-demo\\src\\views\\Map\\index.jsx":"14","H:\\hkzf-demo\\src\\utils\\api\\cityList.js":"15","H:\\hkzf-demo\\src\\utils\\getMyCity.js":"16","H:\\hkzf-demo\\src\\components\\NavHeader\\index.jsx":"17","H:\\hkzf-demo\\src\\utils\\api\\map.js":"18"},{"size":560,"mtime":1610023581240,"results":"19","hashOfConfig":"20"},{"size":362,"mtime":499162500000,"results":"21","hashOfConfig":"20"},{"size":553,"mtime":1610450902675,"results":"22","hashOfConfig":"20"},{"size":2725,"mtime":1610281674447,"results":"23","hashOfConfig":"20"},{"size":9383,"mtime":1611065687050,"results":"24","hashOfConfig":"20"},{"size":220,"mtime":1609852295942,"results":"25","hashOfConfig":"20"},{"size":6539,"mtime":1611758357018,"results":"26","hashOfConfig":"20"},{"size":215,"mtime":1609852339950,"results":"27","hashOfConfig":"20"},{"size":215,"mtime":1609852358468,"results":"28","hashOfConfig":"20"},{"size":508,"mtime":1610284983167,"results":"29","hashOfConfig":"20"},{"size":1422,"mtime":1611757778626,"results":"30","hashOfConfig":"20"},{"size":74,"mtime":1610028330905,"results":"31","hashOfConfig":"20"},{"size":591,"mtime":1611758444502,"results":"32","hashOfConfig":"20"},{"size":7264,"mtime":1611758129155,"results":"33","hashOfConfig":"20"},{"size":718,"mtime":1610980563780,"results":"34","hashOfConfig":"20"},{"size":721,"mtime":1611321328231,"results":"35","hashOfConfig":"20"},{"size":937,"mtime":1611146979439,"results":"36","hashOfConfig":"20"},{"size":370,"mtime":1611492404755,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"15dxt83",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"H:\\hkzf-demo\\src\\index.js",[],["76","77"],"H:\\hkzf-demo\\src\\reportWebVitals.js",[],"H:\\hkzf-demo\\src\\App.js",[],"H:\\hkzf-demo\\src\\views\\Home\\index.jsx",[],"H:\\hkzf-demo\\src\\views\\Citylist\\index.jsx",["78","79","80","81","82","83","84"],"import React, { Component } from 'react'\r\nimport { NavBar, Icon, Toast } from 'antd-mobile'\r\nimport {List, Grid, AutoSizer} from 'react-virtualized'\r\nimport './index.scss'\r\n\r\nimport { getCityList, getHotCityList, getHouseInfo } from '../../utils/api/cityList'\r\nimport { getMyCity } from '../../utils/getMyCity'\r\n\r\nimport NavHeader from '../../components/NavHeader'\r\n\r\nexport default class Citylist extends Component {\r\n    state = {\r\n        activeIndex: 0,\r\n        cityObj:{},\r\n        cityLetter:[],\r\n        myCity: '',\r\n        myCityCode: 'AREA|88cff55c-aaa4-e2e0',\r\n        list: [\r\n            '111111111111111111111111111111111111',\r\n            '222222222222222222222222222222222222',\r\n            '333333333333333333333333333333333333',\r\n            '444444444444444444444444444444444444',\r\n            '555555555555555555555555555555555555',\r\n            '666666666666666666666666666666666666',\r\n            '777777777777777777777777777777777777',\r\n            '888888888888888888888888888888888888',\r\n            '999999999999999999999999999999999999',\r\n            '000000000000000000000000000000000000',\r\n            'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',\r\n            'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb',\r\n            'cccccccccccccccccccccccccccccccccccc',\r\n            'dddddddddddddddddddddddddddddddddddd',\r\n            'eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee',\r\n            'ffffffffffffffffffffffffffffffffffff',\r\n            'gggggggggggggggggggggggggggggggggggg',\r\n            '111111111111111111111111111111111111',\r\n            '222222222222222222222222222222222222',\r\n            '333333333333333333333333333333333333',\r\n            '444444444444444444444444444444444444',\r\n            '555555555555555555555555555555555555',\r\n            '666666666666666666666666666666666666',\r\n            '777777777777777777777777777777777777',\r\n            '888888888888888888888888888888888888',\r\n            '999999999999999999999999999999999999',\r\n            '000000000000000000000000000000000000',\r\n            'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',\r\n            'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb',\r\n            'cccccccccccccccccccccccccccccccccccc',\r\n            'dddddddddddddddddddddddddddddddddddd',\r\n            'eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee',\r\n            'ffffffffffffffffffffffffffffffffffff',\r\n            'gggggggggggggggggggggggggggggggggggg',\r\n            '111111111111111111111111111111111111',\r\n            '222222222222222222222222222222222222',\r\n            '333333333333333333333333333333333333',\r\n            '444444444444444444444444444444444444',\r\n            '555555555555555555555555555555555555',\r\n            '666666666666666666666666666666666666',\r\n            '777777777777777777777777777777777777',\r\n            '888888888888888888888888888888888888',\r\n            '999999999999999999999999999999999999',\r\n            '000000000000000000000000000000000000',\r\n            'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',\r\n            'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb',\r\n            'cccccccccccccccccccccccccccccccccccc',\r\n            'dddddddddddddddddddddddddddddddddddd',\r\n            'eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee',\r\n            'ffffffffffffffffffffffffffffffffffff',\r\n            'gggggggggggggggggggggggggggggggggggg',\r\n          ]\r\n    }\r\n\r\n    listRef = React.createRef()\r\n\r\n    //列表\r\n    rowRenderer = ({\r\n      key, // 唯一标识\r\n      index, // 索引\r\n      isScrolling, // 是否处于滚动状态\r\n      isVisible, // 是否被显示\r\n      style, // Style object to be applied to row (to position it)\r\n    }) => {\r\n      return (\r\n        <div key={key} style={style}>\r\n          {this.changeCityName(index)}\r\n          {this.state.cityObj[this.state.cityLetter[index]].map((val, key) => {\r\n                return (\r\n                    <div className=\"cityName\" key={key} onClick={async () => {\r\n                        let res = await getHouseInfo({id: val.value})\r\n                        if(res.data.body.length){\r\n                            sessionStorage.setItem('myCity', JSON.stringify({label: val.label, value: val.value}))\r\n                            this.props.history.push('/home')\r\n                        }else{\r\n                            Toast.info('无房源数据', 2)\r\n                        }\r\n                    }}>\r\n                        {val.label}\r\n                    </div>\r\n                )\r\n          })}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    //修改热门城市、当前城市显示\r\n    changeCityName  = (index) => {\r\n            if( this.state.cityLetter[index] == '#'){\r\n                return ( <div className=\"title\">当前城市</div> )\r\n            }else if( this.state.cityLetter[index] == 'hot' ){\r\n                return ( <div className=\"title\">热门城市</div> )\r\n            }else{\r\n                return ( <div className=\"title\">{this.state.cityLetter[index].toUpperCase()}</div> )\r\n            }\r\n            \r\n    }\r\n\r\n    // //网格\r\n    // cellRenderer = ({columnIndex, key, rowIndex, style}) => {\r\n    //     return (\r\n    //       <div key={key} style={style}>\r\n    //         {this.state.list[rowIndex][columnIndex]}\r\n    //       </div>\r\n    //     );\r\n    //   }\r\n\r\n\r\n    //获取城市列表\r\n    getCityList = async (level) => {\r\n        let res = await getCityList({level})\r\n        let cityObj = {}\r\n        let cityLetter = []\r\n        res.data.body.forEach((item, index) => {\r\n            if(cityObj[item.short.substr(0,1)]){\r\n                cityObj[item.short.substr(0,1)].push(item)\r\n            }else{\r\n                cityObj[item.short.substr(0,1)] = [item]\r\n            }\r\n        })\r\n        cityLetter = Object.keys(cityObj).sort()\r\n        this.setState({\r\n            cityObj,\r\n            cityLetter\r\n        })\r\n    }\r\n\r\n    //获取热门城市列表\r\n    getHotCityList = async () => {\r\n        let res = await getHotCityList()\r\n        let cityObj = this.state.cityObj\r\n        cityObj.hot = res.data.body\r\n        let cityLetter = this.state.cityLetter\r\n        cityLetter.unshift('hot')\r\n        this.setState({\r\n            cityObj,\r\n            cityLetter\r\n        })\r\n    }\r\n\r\n    //获取当前城市\r\n    getMyCity = async () => {\r\n        let res = await getMyCity()\r\n        let cityObj = this.state.cityObj\r\n        let cityLetter = this.state.cityLetter\r\n        cityObj['#'] = [res]\r\n        cityLetter.unshift('#')\r\n        this.setState({\r\n            cityObj,\r\n            cityLetter\r\n        })\r\n    }\r\n\r\n    //渲染右侧字母列表\r\n    renderRightList = () => {\r\n        return this.state.cityLetter.map((item, index) => {\r\n            let text = item == 'hot' ? '热' : item.toUpperCase()\r\n            return (\r\n                <li key={index}>\r\n                    <span \r\n                    onClick={() => {\r\n                        this.setState(\r\n                            {activeIndex: index},\r\n                            () => {\r\n                                this.listRef.current.scrollToRow(this.state.activeIndex)\r\n                            }\r\n                        )\r\n                    }}\r\n                    className={this.state.activeIndex == index ? \"active\" : ''}>\r\n                        {text}\r\n                    </span>\r\n                </li>\r\n            )\r\n        })\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.getCityList(1)\r\n        await this.getHotCityList()\r\n        await this.getMyCity()\r\n        console.log(this.state.cityLetter)\r\n        console.log(this.state.cityObj)\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"cityList\">\r\n                <NavHeader title=\"选择城市\" />\r\n                {/* 左侧城市列表 */}\r\n                <AutoSizer>\r\n                    {({height, width}) => (\r\n                        <List\r\n                            width={width}\r\n                            height={height}\r\n                            rowCount={this.state.cityLetter.length}\r\n                            rowHeight={(index) => {\r\n                                return this.state.cityObj[this.state.cityLetter[index.index]].length * 50 + 36\r\n                            }}\r\n                            onRowsRendered={({startIndex}) => {\r\n                                if(this.state.activeIndex !== startIndex){\r\n                                    this.setState({\r\n                                        activeIndex: startIndex\r\n                                    })\r\n                                }\r\n                            }}\r\n                            rowRenderer={this.rowRenderer}\r\n                            ref={this.listRef}\r\n                            scrollToAlignment='start'\r\n                        />\r\n                    )}\r\n                </AutoSizer>\r\n                {/* 右侧字母列表 */}\r\n                <ul className=\"rightList\">\r\n                    {this.renderRightList()}\r\n                </ul>\r\n                {/* 网格 */}\r\n                {/* <Grid\r\n                    cellRenderer={this.cellRenderer}\r\n                    columnCount={this.state.list[0].length}\r\n                    columnWidth={100}\r\n                    height={300}\r\n                    rowCount={this.state.list.length}\r\n                    rowHeight={30}\r\n                    width={300}\r\n                /> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","H:\\hkzf-demo\\src\\views\\Findhouse\\index.jsx",[],"H:\\hkzf-demo\\src\\views\\Main\\index.jsx",["85","86"],"H:\\hkzf-demo\\src\\views\\Mine\\index.jsx",[],"H:\\hkzf-demo\\src\\views\\News\\index.jsx",[],"H:\\hkzf-demo\\src\\utils\\api\\home.js",[],"H:\\hkzf-demo\\src\\utils\\request.js",[],"H:\\hkzf-demo\\src\\utils\\imgUrl.js",[],"H:\\hkzf-demo\\src\\views\\Main\\util.js",[],"H:\\hkzf-demo\\src\\views\\Map\\index.jsx",["87","88","89","90","91"],"H:\\hkzf-demo\\src\\utils\\api\\cityList.js",[],"H:\\hkzf-demo\\src\\utils\\getMyCity.js",[],"H:\\hkzf-demo\\src\\components\\NavHeader\\index.jsx",[],"H:\\hkzf-demo\\src\\utils\\api\\map.js",[],{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","severity":1,"message":"97","line":2,"column":10,"nodeType":"98","messageId":"99","endLine":2,"endColumn":16},{"ruleId":"96","severity":1,"message":"100","line":2,"column":18,"nodeType":"98","messageId":"99","endLine":2,"endColumn":22},{"ruleId":"96","severity":1,"message":"101","line":3,"column":15,"nodeType":"98","messageId":"99","endLine":3,"endColumn":19},{"ruleId":"102","severity":1,"message":"103","line":107,"column":46,"nodeType":"104","messageId":"105","endLine":107,"endColumn":48},{"ruleId":"102","severity":1,"message":"103","line":109,"column":52,"nodeType":"104","messageId":"105","endLine":109,"endColumn":54},{"ruleId":"102","severity":1,"message":"103","line":175,"column":29,"nodeType":"104","messageId":"105","endLine":175,"endColumn":31},{"ruleId":"102","severity":1,"message":"103","line":187,"column":55,"nodeType":"104","messageId":"105","endLine":187,"endColumn":57},{"ruleId":"106","severity":1,"message":"107","line":70,"column":38,"nodeType":"108","messageId":"109","endLine":70,"endColumn":49,"fix":"110"},{"ruleId":"106","severity":1,"message":"111","line":71,"column":37,"nodeType":"108","messageId":"109","endLine":71,"endColumn":47,"fix":"112"},{"ruleId":"96","severity":1,"message":"113","line":3,"column":17,"nodeType":"98","messageId":"99","endLine":3,"endColumn":23},{"ruleId":"102","severity":1,"message":"103","line":73,"column":34,"nodeType":"104","messageId":"105","endLine":73,"endColumn":36},{"ruleId":"102","severity":1,"message":"103","line":82,"column":25,"nodeType":"104","messageId":"105","endLine":82,"endColumn":27},{"ruleId":"102","severity":1,"message":"103","line":97,"column":31,"nodeType":"104","messageId":"105","endLine":97,"endColumn":33},{"ruleId":"102","severity":1,"message":"103","line":112,"column":30,"nodeType":"104","messageId":"105","endLine":112,"endColumn":32},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],"no-unused-vars","'NavBar' is defined but never used.","Identifier","unusedVar","'Icon' is defined but never used.","'Grid' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-whitespace-before-property","Unexpected whitespace before property title.","MemberExpression","unexpectedWhitespace",{"range":"116","text":"117"},"Unexpected whitespace before property desc.",{"range":"118","text":"117"},"'Button' is defined but never used.","no-global-assign","no-unsafe-negation",[2228,2230],".",[2283,2285]]